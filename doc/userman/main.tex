\documentclass[web]{frama-c-book}

\usepackage{graphicx}
\usepackage{calc}
\usepackage{datetime}
\newdateformat{ddMyyyydate}{\THEDAY~\monthname[\THEMONTH]~\THEYEAR}



\include{macros}
\include{fclangversion}


\makeindex

\begin{document}


\coverpage{ \vbox{
\centerline{\fclang User Manual}
\vspace{.3em}
\centerline{\normalsize{version \version}}
\vspace{.3em}
\centerline{\normalsize{for \fclang version \fclangversion}}
\vspace{.3em}
\centerline{\normalsize{and \framac version \fcversion}}
}}

\begin{titlepage}
\begin{flushleft}
\includegraphics[height=14mm]{cealistlogo.jpg}
\end{flushleft}
\vfill
\title{\fclang Plug-in User Manual}{Release \version for \fclang \fclangversion
%% \ifthenelse{\equal{\eacslversion}{\fcversion}}{}{%
%%   \\[1em] compatible with \framac \fcversion}
}
\author{David R. Cok}
\begin{center}
CEA LIST\\ Software Reliability \& Security Laboratory
\end{center}
\begin{center}
	Document printed \ddMyyyydate\today
\end{center}
\vfill
\begin{flushleft}
  \textcopyright 2013-2019 CEA LIST
%%
  %% This work has been supported by the VESSEDIA project).
\end{flushleft}
\end{titlepage}

\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter*{Foreword}
\markright{}
\addcontentsline{toc}{chapter}{Foreword}

This is the user manual for the \framac plug-in
\fclang\footnote{\url{https://frama-c.com/frama-clang.html}}. The contents of this
document correspond to version \fclangversion of the plug-in compatible with the
\fcversion version of \framac~\cite{userman,fac15}.  The development of
the \fclang plug-in is still ongoing.  Features described by this document will certainly
evolve in the future.

\section*{Acknowledgements}

We gratefully thank the people who contributed to this document:
David R. Cok, Virgile Prevosto, Armand Puccetti, Franck Verdrine.

This document was written in the context of project VESSEDIA,
which received funding from the European Union's 2020
Research and Innovation Program under grant agreement
No. 731453.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{introduction}
\include{description}
\include{limitations}

\include{preprocessing}
\include{grammar}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\appendix

\include{changes}

\section*{TODO}

These items are not yet addressed
\begin{itemize}
\item Add/revise list of contributors/reviewers
\item (Introduction) Verify the version of \framac and \clang supported
\item Sort out the interactions among the options -verbose -debug -quiet -fclang-debug -fclang-verbose -fclang-msg-key -fclang-warn-key
\item -no-pp-annot is not recognized by \fclang
\item Add comments about using system header files
\item Comment on the demangling options
\item Review the clang and \irg options
\item describe the framaCIRGen options: -x -b -v --gen-impl-meth
\item Comment on handling of unicode in the preprocessor
\item Review the preprocessor tokens
\item must the argument of -cpp-extra-args always be given with an = and quoted string
\item Interactions between \_\_FC\_MACHDEP and -machdep
\item Check whether static or dynamic linking is used in building
\item check behavior of -stop-annot-error
\item \lstinline|__FC_MACHDEP| vs. the option
\item fix where version option is described
\item Need to test that the various kinds of static\_cast actually work as expected.
\item dynamic casting not yet working
\item rounding mode; additional builtin functions
\end{itemize}

Bugs
\begin{itemize}
\item Various parts of the tool use stdout and stderr differently
\item non-clang options not included in framaCIRGen -help
\item The -o option is required
\item Fix how to do custom ASTs; The custom build instructions with a prefix to a temp directory fail
\item it appears that trigraph processing cannot be turned off, is on by default for \irg but off by default for clang++; not sure why
\item it does not seem that clang options are passed through, e.g. -fdollars-in-identifiers; \irg defaults are different than clang
\item preprocessor implementation does not concatenate string literals
\item spurious error when running  framaCIRGen -help
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\addcontentsline{toc}{chapter}{\bibname}
\bibliographystyle{plain}
\bibliography{./biblio}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% \cleardoublepage
%% \addcontentsline{toc}{chapter}{\listfigurename}
%% \listoffigures

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\addcontentsline{toc}{chapter}{\indexname}
\printindex

\end{document}
