[kernel] Parsing tests/basic/asm.cc (external front-end)
Now output intermediate result
/* Generated by Frama-C */
int main(void)
{
  int __retres;
  int arg1;
  int arg2;
  int add;
  int sub;
  int mul;
  int quo;
  int rem;
  int temp = 0;
  int usernb = 3;
  /*@ assigns \nothing; */
  __asm__ volatile (
    "pusha \nmov eax, %0 \ninc eax \nmov ecx, %1 \nxor ecx, %1 \nmov %1, ecx \nmov eax, %1 \npopa \n"
    : 
    : "m" (temp), "m" (usernb)
    );
  arg1 = 1337;
  arg2 = 42;
  /*@ assigns add;
      assigns add \from arg1, arg2; */
  __asm__ volatile (
    "addl %%ebx, %%eax;"
    : "=a" (add)
    : "a" (arg1), "b" (arg2)
    );
  /*@ assigns sub;
      assigns sub \from \nothing; */
  __asm__ ("subl %%ebx, %%eax;" : "=a" (sub));
  /*@ assigns mul;
      assigns mul \from arg1, arg2; */
  __asm__ (
    "imull %%ebx, %%eax;"
    : "=a" (mul)
    : "a" (arg1), "b" (arg2)
    : "edx"
    );
  /*@ assigns quo, rem;
      assigns quo \from arg1, arg2;
      assigns rem \from arg1, arg2;
  */
  __asm__ (
    "movl $0x0, %%edx;movl %2, %%eax;movl %3, %%ebx;idivl %%ebx;"
    : "=a" (quo), "=d" (rem)
    : "g" (arg1), "g" (arg2)
    );
  __retres = (((rem * 10000 + add * 1000) + sub * 100) + mul * 10) + quo;
  return __retres;
}


