[kernel] Parsing tests/exn/exn_typedef.cpp (external front-end)
Now output intermediate result
/* Generated by Frama-C */
struct _frama_c_vmt_content {
   void (*method_ptr)() ;
   int shift_this ;
};
struct _frama_c_rtti_name_info_node;
struct _frama_c_vmt {
   struct _frama_c_vmt_content *table ;
   int table_size ;
   struct _frama_c_rtti_name_info_node *rtti_info ;
};
struct _frama_c_rtti_name_info_content {
   struct _frama_c_rtti_name_info_node *value ;
   int shift_object ;
   int shift_vmt ;
};
struct _frama_c_rtti_name_info_node {
   char const *name ;
   struct _frama_c_rtti_name_info_content *base_classes ;
   int number_of_base_classes ;
   struct _frama_c_vmt *pvmt ;
};
struct A;
struct B;
struct E;
struct A {
   int x ;
};
struct B {
   struct A _frama_c__ZN5plainE1A ;
};
typedef struct B C;
typedef struct A D;
struct E {
   struct A _frama_c__ZN5plainE1A ;
};
struct A<int> {
   int x ;
};
struct B<int> {
   struct A<int> _frama_c__ZN9templatedE1AIiE ;
};
typedef struct A<int> C;
typedef struct B<int> D;
enum __fc_exn_enum {
    __fc_exn_kind___fc_S_ZN9templatedE1BIiE = 4,
    __fc_exn_kind___fc_S_ZN9templatedE1AIiE = 3,
    __fc_exn_kind___fc_S_ZN5plainE1E = 2,
    __fc_exn_kind___fc_S_ZN5plainE1B = 1,
    __fc_exn_kind___fc_S_ZN5plainE1A = 0
};
union __fc_exn_union {
   struct B<int> __fc_S_ZN9templatedE1BIiE ;
   struct A<int> __fc_S_ZN9templatedE1AIiE ;
   struct E __fc_S_ZN5plainE1E ;
   struct B __fc_S_ZN5plainE1B ;
   struct A __fc_S_ZN5plainE1A ;
};
struct __fc_exn_struct {
   int exn_uncaught ;
   enum __fc_exn_enum exn_kind ;
   union __fc_exn_union exn_obj ;
};
struct __fc_exn_struct __fc_exn =
  {.exn_uncaught = 0,
   .exn_kind = 0,
   .exn_obj = {.__fc_S_ZN9templatedE1BIiE = {._frama_c__ZN9templatedE1AIiE = {
                                             .x = 0}}}};
struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info;

/*@ requires \valid_read(this); */
void A::Ctor(struct A const *this, int _x)
{
  this->x = _x;
  return;
}

struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info;

/*@ requires \valid_read(this); */
void B::Ctor(struct B const *this, int _x)
{
  A::Ctor(& this->_frama_c__ZN5plainE1A,_x);
  return;
}

struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info;

/*@ requires \valid_read(this); */
void E::Ctor(struct E const *this, int _x)
{
  A::Ctor(& this->_frama_c__ZN5plainE1A,_x);
  return;
}

int f(int c)
{
  int __retres;
  if ((_Bool)(c != 0)) {
    struct A __fc_tmp_0;
    A::Ctor(& __fc_tmp_0,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN5plainE1A;
    __fc_exn.exn_obj.__fc_S_ZN5plainE1A = __fc_tmp_0;
    goto __fc_S_ZN5plainE1A_3;
  }
  else {
    C __fc_tmp_1;
    B::Ctor(& __fc_tmp_1,2);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN5plainE1B;
    __fc_exn.exn_obj.__fc_S_ZN5plainE1B = __fc_tmp_1;
    goto __fc_S_ZN5plainE1B_2;
  }
  if (0) {
    struct A d;
    if (0) {
      struct A d_0;
      __fc_S_ZN5plainE1A_3: d_0 = __fc_exn.exn_obj.__fc_S_ZN5plainE1A;
      d = d_0;
      goto __fc_S_ZN5plainE1A;
    }
    if (0) {
      struct B d_1;
      __fc_S_ZN5plainE1B_2: d_1 = __fc_exn.exn_obj.__fc_S_ZN5plainE1B;
      d = d_1._frama_c__ZN5plainE1A;
      goto __fc_S_ZN5plainE1A;
    }
    if (0) {
      struct E d_2;
      __fc_S_ZN5plainE1E_1: d_2 = __fc_exn.exn_obj.__fc_S_ZN5plainE1E;
      d = d_2._frama_c__ZN5plainE1A;
      goto __fc_S_ZN5plainE1A;
    }
    __fc_S_ZN5plainE1A: __fc_exn.exn_uncaught = 0;
    __retres = d.x;
    goto return_label;
  }
  return_label: return __retres;
}

int g(int c)
{
  int __retres;
  if ((_Bool)(c != 0)) {
    struct B __fc_tmp_2;
    B::Ctor(& __fc_tmp_2,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN5plainE1B;
    __fc_exn.exn_obj.__fc_S_ZN5plainE1B = __fc_tmp_2;
    goto __fc_S_ZN5plainE1B_2;
  }
  else {
    D __fc_tmp_3;
    A::Ctor(& __fc_tmp_3,2);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN5plainE1A;
    __fc_exn.exn_obj.__fc_S_ZN5plainE1A = __fc_tmp_3;
    goto __fc_S_ZN5plainE1A_3;
  }
  if (0) {
    struct A a;
    if (0) {
      struct A a_0;
      __fc_S_ZN5plainE1A_3: a_0 = __fc_exn.exn_obj.__fc_S_ZN5plainE1A;
      a = a_0;
      goto __fc_S_ZN5plainE1A;
    }
    if (0) {
      struct B a_1;
      __fc_S_ZN5plainE1B_2: a_1 = __fc_exn.exn_obj.__fc_S_ZN5plainE1B;
      a = a_1._frama_c__ZN5plainE1A;
      goto __fc_S_ZN5plainE1A;
    }
    if (0) {
      struct E a_2;
      __fc_S_ZN5plainE1E_1: a_2 = __fc_exn.exn_obj.__fc_S_ZN5plainE1E;
      a = a_2._frama_c__ZN5plainE1A;
      goto __fc_S_ZN5plainE1A;
    }
    __fc_S_ZN5plainE1A: __fc_exn.exn_uncaught = 0;
    __retres = a.x;
    goto return_label;
  }
  return_label: return __retres;
}

int h(int c)
{
  int __retres;
  if ((_Bool)(c != 0)) {
    C __fc_tmp_4;
    B::Ctor(& __fc_tmp_4,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN5plainE1B;
    __fc_exn.exn_obj.__fc_S_ZN5plainE1B = __fc_tmp_4;
    goto __fc_S_ZN5plainE1B_2;
  }
  else {
    struct E __fc_tmp_5;
    E::Ctor(& __fc_tmp_5,2);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN5plainE1E;
    __fc_exn.exn_obj.__fc_S_ZN5plainE1E = __fc_tmp_5;
    goto __fc_S_ZN5plainE1E_1;
  }
  if (0) {
    struct A a;
    if (0) {
      struct A a_0;
      __fc_S_ZN5plainE1A_3: a_0 = __fc_exn.exn_obj.__fc_S_ZN5plainE1A;
      a = a_0;
      goto __fc_S_ZN5plainE1A;
    }
    if (0) {
      struct B a_1;
      __fc_S_ZN5plainE1B_2: a_1 = __fc_exn.exn_obj.__fc_S_ZN5plainE1B;
      a = a_1._frama_c__ZN5plainE1A;
      goto __fc_S_ZN5plainE1A;
    }
    if (0) {
      struct E a_2;
      __fc_S_ZN5plainE1E_1: a_2 = __fc_exn.exn_obj.__fc_S_ZN5plainE1E;
      a = a_2._frama_c__ZN5plainE1A;
      goto __fc_S_ZN5plainE1A;
    }
    __fc_S_ZN5plainE1A: __fc_exn.exn_uncaught = 0;
    __retres = a.x;
    goto return_label;
  }
  return_label: return __retres;
}

struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info =
  {.name = "A",
   .base_classes = (struct _frama_c_rtti_name_info_content *)0,
   .number_of_base_classes = 0,
   .pvmt = (struct _frama_c_vmt *)0};
struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info =
  {.name = "B",
   .base_classes = (struct _frama_c_rtti_name_info_content *)0,
   .number_of_base_classes = 0,
   .pvmt = (struct _frama_c_vmt *)0};
struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info =
  {.name = "E",
   .base_classes = (struct _frama_c_rtti_name_info_content *)0,
   .number_of_base_classes = 0,
   .pvmt = (struct _frama_c_vmt *)0};
struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info;

/*@ requires \valid_read(this); */
void A<int>::Ctor(struct A<int> const *this, int _x)
{
  this->x = _x;
  return;
}

struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info =
  {.name = "A",
   .base_classes = (struct _frama_c_rtti_name_info_content *)0,
   .number_of_base_classes = 0,
   .pvmt = (struct _frama_c_vmt *)0};
struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info;

/*@ requires \valid_read(this); */
void B<int>::Ctor(struct B<int> const *this, int _x)
{
  A<int>::Ctor(& this->_frama_c__ZN9templatedE1AIiE,_x);
  return;
}

struct _frama_c_rtti_name_info_node _frama_c_rtti_name_info =
  {.name = "B",
   .base_classes = (struct _frama_c_rtti_name_info_content *)0,
   .number_of_base_classes = 0,
   .pvmt = (struct _frama_c_vmt *)0};
int f(int c)
{
  int __retres;
  if ((_Bool)(c != 0)) {
    D __fc_tmp_6;
    B<int>::Ctor(& __fc_tmp_6,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN9templatedE1BIiE;
    __fc_exn.exn_obj.__fc_S_ZN9templatedE1BIiE = __fc_tmp_6;
    goto __fc_S_ZN9templatedE1BIiE_1;
  }
  else {
    struct B<int> __fc_tmp_7;
    B<int>::Ctor(& __fc_tmp_7,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN9templatedE1BIiE;
    __fc_exn.exn_obj.__fc_S_ZN9templatedE1BIiE = __fc_tmp_7;
    goto __fc_S_ZN9templatedE1BIiE_1;
  }
  if (0) {
    struct A<int> a;
    if (0) {
      struct A<int> a_0;
      __fc_S_ZN9templatedE1AIiE_2:
      a_0 = __fc_exn.exn_obj.__fc_S_ZN9templatedE1AIiE;
      a = a_0;
      goto __fc_S_ZN9templatedE1AIiE;
    }
    if (0) {
      struct B<int> a_1;
      __fc_S_ZN9templatedE1BIiE_1:
      a_1 = __fc_exn.exn_obj.__fc_S_ZN9templatedE1BIiE;
      a = a_1._frama_c__ZN9templatedE1AIiE;
      goto __fc_S_ZN9templatedE1AIiE;
    }
    __fc_S_ZN9templatedE1AIiE: __fc_exn.exn_uncaught = 0;
    __retres = a.x;
    goto return_label;
  }
  return_label: return __retres;
}

int g(int c)
{
  int __retres;
  if ((_Bool)(c != 0)) {
    struct A<int> __fc_tmp_8;
    A<int>::Ctor(& __fc_tmp_8,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN9templatedE1AIiE;
    __fc_exn.exn_obj.__fc_S_ZN9templatedE1AIiE = __fc_tmp_8;
    goto __fc_S_ZN9templatedE1AIiE_2;
  }
  else {
    struct B<int> __fc_tmp_9;
    B<int>::Ctor(& __fc_tmp_9,1);
    __fc_exn.exn_uncaught = 1;
    __fc_exn.exn_kind = __fc_exn_kind___fc_S_ZN9templatedE1BIiE;
    __fc_exn.exn_obj.__fc_S_ZN9templatedE1BIiE = __fc_tmp_9;
    goto __fc_S_ZN9templatedE1BIiE_1;
  }
  if (0) {
    struct A<int> c_0;
    if (0) {
      struct A<int> c_0_0;
      __fc_S_ZN9templatedE1AIiE_2:
      c_0_0 = __fc_exn.exn_obj.__fc_S_ZN9templatedE1AIiE;
      c_0 = c_0_0;
      goto __fc_S_ZN9templatedE1AIiE;
    }
    if (0) {
      struct B<int> c_0_1;
      __fc_S_ZN9templatedE1BIiE_1:
      c_0_1 = __fc_exn.exn_obj.__fc_S_ZN9templatedE1BIiE;
      c_0 = c_0_1._frama_c__ZN9templatedE1AIiE;
      goto __fc_S_ZN9templatedE1AIiE;
    }
    __fc_S_ZN9templatedE1AIiE: __fc_exn.exn_uncaught = 0;
    __retres = c_0.x;
    goto return_label;
  }
  return_label: return __retres;
}


